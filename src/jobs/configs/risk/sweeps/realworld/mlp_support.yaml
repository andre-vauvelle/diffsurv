# wandb sweep
method: bayes
program: scripts/mlp.py
metric:
  name: hp_metric
  goal: maximize
parameters:
  model.lr:
    distribution: log_uniform_values
    min: 1e-4 # 0.0001
    max: 3e-2
  model.head_layers:
    values: [1, 3]
  model.head_hidden_dim:
    values: [64, 128, 256, 512, 1024]
  model.hidden_dropout_prob:
    min: 0.0
    max: 0.6
  data.batch_size:
    values: [16, 32, 64, 84, 128]
command:
  - ${env}
  - ${interpreter}
  - ${program}
  - fit
  - "--config"
  - "jobs/configs/risk/mlp.yaml"
  - "--data.wandb_artifact"
  - "cardiors/diffsurv/support.pt:latest"
  - ${args}
project: diffsurv
entity: cardiors
